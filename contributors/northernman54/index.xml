<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>NorthernMan54 on</title><link>https://nrchkb.github.io/contributors/northernman54/</link><description>Recent content in NorthernMan54 on</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Tue, 03 Aug 2021 00:00:00 +0200</lastBuildDate><atom:link href="https://nrchkb.github.io/contributors/northernman54/index.xml" rel="self" type="application/rss+xml"/><item><title>Washing Machine Monitor</title><link>https://nrchkb.github.io/wiki/examples/washing-machine-monitor/</link><pubDate>Tue, 03 Aug 2021 00:00:00 +0200</pubDate><guid>https://nrchkb.github.io/wiki/examples/washing-machine-monitor/</guid><description>This is a Washing Machine in use flow I created to monitor the usage of our washing machine, and provide notification to the Home.app of the wash status. To create this I leveraged an ESP8266 based current sensor WemosEM to monitor usage of the Washing Machine. And used the flow to determine if the Washing machine was in use, then trigger a Contact sensor.
The flow watches the watts used, averaging the previous 24 readings, and if they cross 30 watts, trigger the On state, and if the average drops below 15 watts trigger the off state.</description></item><item><title>Light Bulb</title><link>https://nrchkb.github.io/wiki/service/lightbulb/</link><pubDate>Sat, 17 Apr 2021 18:50:12 +0000</pubDate><guid>https://nrchkb.github.io/wiki/service/lightbulb/</guid><description>Examples These examples are meant to be copied into your Node-RED system and adapted to your setup.
On/Off Light This is the simplest example of a light bulb item. The input nodes are &amp;ldquo;On&amp;rdquo; and &amp;ldquo;Off&amp;rdquo;. The debug node will return values when the switch is turned on or off via the Home app on an Apple device.
Copyable Node-RED flow:
[{&amp;#34;id&amp;#34;:&amp;#34;ed2d8340.e1d5d8&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-service&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;bridge&amp;#34;:&amp;#34;d334490b.40dac&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Example Bulb OnOff&amp;#34;,&amp;#34;serviceName&amp;#34;:&amp;#34;Lightbulb&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;manufacturer&amp;#34;:&amp;#34;Default Manufacturer&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;Default Model&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;,&amp;#34;characteristicProperties&amp;#34;:&amp;#34;{}&amp;#34;,&amp;#34;x&amp;#34;:380,&amp;#34;y&amp;#34;:160,&amp;#34;wires&amp;#34;:[[&amp;#34;5844674e.178708&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;5844674e.178708&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;debug&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;HomeKit Out&amp;#34;,&amp;#34;active&amp;#34;:true,&amp;#34;tosidebar&amp;#34;:true,&amp;#34;console&amp;#34;:false,&amp;#34;tostatus&amp;#34;:false,&amp;#34;complete&amp;#34;:&amp;#34;payload&amp;#34;,&amp;#34;x&amp;#34;:590,&amp;#34;y&amp;#34;:160,&amp;#34;wires&amp;#34;:[]},{&amp;#34;id&amp;#34;:&amp;#34;8db975bc.c2e9d&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;On&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:true}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:120,&amp;#34;wires&amp;#34;:[[&amp;#34;ed2d8340.e1d5d8&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;629771.da7c409&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Off&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:false}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[[&amp;#34;ed2d8340.e1d5d8&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;d334490b.40dac&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-bridge&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;bridgeName&amp;#34;:&amp;#34;Example Bridge&amp;#34;,&amp;#34;pinCode&amp;#34;:&amp;#34;111-11-111&amp;#34;,&amp;#34;port&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;allowInsecureRequest&amp;#34;:false,&amp;#34;manufacturer&amp;#34;:&amp;#34;Default Manufacturer&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;Default Model&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;}] Dimmable Light This is an example of a dimmable light bulb item.</description></item><item><title>Outlet</title><link>https://nrchkb.github.io/wiki/service/outlet/</link><pubDate>Sat, 17 Apr 2021 18:50:12 +0000</pubDate><guid>https://nrchkb.github.io/wiki/service/outlet/</guid><description>Basic Principle This is the simplest example of an outlet item. The input nodes are On, Off, In Use and Not in Use.
Copyable Node-RED flow:
[{&amp;#34;id&amp;#34;:&amp;#34;b2bc6d32725ce207&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;On&amp;#34;,&amp;#34;props&amp;#34;:[{&amp;#34;p&amp;#34;:&amp;#34;payload&amp;#34;}],&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:1}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:80,&amp;#34;wires&amp;#34;:[[&amp;#34;503a4c551f4e455b&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;dcf7dbd66ba3f303&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Off&amp;#34;,&amp;#34;props&amp;#34;:[{&amp;#34;p&amp;#34;:&amp;#34;payload&amp;#34;}],&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:0}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:120,&amp;#34;wires&amp;#34;:[[&amp;#34;503a4c551f4e455b&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;6282f6b7760eb090&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Not In Use&amp;#34;,&amp;#34;props&amp;#34;:[{&amp;#34;p&amp;#34;:&amp;#34;payload&amp;#34;}],&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;OutletInUse\&amp;#34;:0}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;x&amp;#34;:120,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[[&amp;#34;503a4c551f4e455b&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;3c728bedb5474384&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;In Use&amp;#34;,&amp;#34;props&amp;#34;:[{&amp;#34;p&amp;#34;:&amp;#34;payload&amp;#34;}],&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;OutletInUse\&amp;#34;:1}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:220,&amp;#34;wires&amp;#34;:[[&amp;#34;503a4c551f4e455b&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;503a4c551f4e455b&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-service&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;isParent&amp;#34;:true,&amp;#34;hostType&amp;#34;:&amp;#34;0&amp;#34;,&amp;#34;bridge&amp;#34;:&amp;#34;4a2a4fc162440a41&amp;#34;,&amp;#34;accessoryId&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;parentService&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Outlet&amp;#34;,&amp;#34;serviceName&amp;#34;:&amp;#34;Outlet&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;filter&amp;#34;:false,&amp;#34;manufacturer&amp;#34;:&amp;#34;NRCHKB&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;1.4.2&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;,&amp;#34;firmwareRev&amp;#34;:&amp;#34;1.4.2&amp;#34;,&amp;#34;hardwareRev&amp;#34;:&amp;#34;1.4.2&amp;#34;,&amp;#34;softwareRev&amp;#34;:&amp;#34;1.4.2&amp;#34;,&amp;#34;cameraConfigVideoProcessor&amp;#34;:&amp;#34;ffmpeg&amp;#34;,&amp;#34;cameraConfigSource&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;cameraConfigStillImageSource&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;cameraConfigMaxStreams&amp;#34;:2,&amp;#34;cameraConfigMaxWidth&amp;#34;:1280,&amp;#34;cameraConfigMaxHeight&amp;#34;:720,&amp;#34;cameraConfigMaxFPS&amp;#34;:10,&amp;#34;cameraConfigMaxBitrate&amp;#34;:300,&amp;#34;cameraConfigVideoCodec&amp;#34;:&amp;#34;libx264&amp;#34;,&amp;#34;cameraConfigAudioCodec&amp;#34;:&amp;#34;libfdk_aac&amp;#34;,&amp;#34;cameraConfigAudio&amp;#34;:false,&amp;#34;cameraConfigPacketSize&amp;#34;:1316,&amp;#34;cameraConfigVerticalFlip&amp;#34;:false,&amp;#34;cameraConfigHorizontalFlip&amp;#34;:false,&amp;#34;cameraConfigMapVideo&amp;#34;:&amp;#34;0:0&amp;#34;,&amp;#34;cameraConfigMapAudio&amp;#34;:&amp;#34;0:1&amp;#34;,&amp;#34;cameraConfigVideoFilter&amp;#34;:&amp;#34;scale=1280:720&amp;#34;,&amp;#34;cameraConfigAdditionalCommandLine&amp;#34;:&amp;#34;-tune zerolatency&amp;#34;,&amp;#34;cameraConfigDebug&amp;#34;:false,&amp;#34;cameraConfigSnapshotOutput&amp;#34;:&amp;#34;disabled&amp;#34;,&amp;#34;cameraConfigInterfaceName&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;characteristicProperties&amp;#34;:&amp;#34;{\&amp;#34;OutletInUse\&amp;#34;:{\&amp;#34;minValue\&amp;#34;:0,\&amp;#34;maxValue\&amp;#34;:1}}&amp;#34;,&amp;#34;waitForSetupMsg&amp;#34;:false,&amp;#34;outputs&amp;#34;:2,&amp;#34;x&amp;#34;:310,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[[&amp;#34;66261314408ffb64&amp;#34;,&amp;#34;b0e06e3f012f25b2&amp;#34;],[]]},{&amp;#34;id&amp;#34;:&amp;#34;66261314408ffb64&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;debug&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;active&amp;#34;:true,&amp;#34;tosidebar&amp;#34;:true,&amp;#34;console&amp;#34;:false,&amp;#34;tostatus&amp;#34;:false,&amp;#34;complete&amp;#34;:&amp;#34;false&amp;#34;,&amp;#34;statusVal&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;statusType&amp;#34;:&amp;#34;auto&amp;#34;,&amp;#34;x&amp;#34;:510,&amp;#34;y&amp;#34;:120,&amp;#34;wires&amp;#34;:[]},{&amp;#34;id&amp;#34;:&amp;#34;b0e06e3f012f25b2&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;function&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;State&amp;#34;,&amp;#34;func&amp;#34;:&amp;#34;msg.payload = msg.payload.On;\n\nreturn msg;&amp;#34;,&amp;#34;outputs&amp;#34;:1,&amp;#34;noerr&amp;#34;:0,&amp;#34;initialize&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;finalize&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;libs&amp;#34;:[],&amp;#34;x&amp;#34;:450,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[[&amp;#34;0ad3df8e40c50749&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;0ad3df8e40c50749&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;debug&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;79ab71a53e21e046&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;active&amp;#34;:true,&amp;#34;tosidebar&amp;#34;:true,&amp;#34;console&amp;#34;:false,&amp;#34;tostatus&amp;#34;:false,&amp;#34;complete&amp;#34;:&amp;#34;false&amp;#34;,&amp;#34;statusVal&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;statusType&amp;#34;:&amp;#34;auto&amp;#34;,&amp;#34;x&amp;#34;:610,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[]},{&amp;#34;id&amp;#34;:&amp;#34;4a2a4fc162440a41&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-bridge&amp;#34;,&amp;#34;bridgeName&amp;#34;:&amp;#34;Bridge Node-RED&amp;#34;,&amp;#34;pinCode&amp;#34;:&amp;#34;605-37-162&amp;#34;,&amp;#34;port&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;advertiser&amp;#34;:&amp;#34;bonjour-hap&amp;#34;,&amp;#34;allowInsecureRequest&amp;#34;:false,&amp;#34;manufacturer&amp;#34;:&amp;#34;NRCHKB&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;1.4.3&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;,&amp;#34;firmwareRev&amp;#34;:&amp;#34;1.4.3&amp;#34;,&amp;#34;hardwareRev&amp;#34;:&amp;#34;1.4.3&amp;#34;,&amp;#34;softwareRev&amp;#34;:&amp;#34;1.4.3&amp;#34;,&amp;#34;customMdnsConfig&amp;#34;:false,&amp;#34;mdnsMulticast&amp;#34;:true,&amp;#34;mdnsInterface&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;mdnsPort&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;mdnsIp&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;mdnsTtl&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;mdnsLoopback&amp;#34;:true,&amp;#34;mdnsReuseAddr&amp;#34;:true,&amp;#34;allowMessagePassthrough&amp;#34;:true}] Characteristic Properties Use the following JSON in your characteristic properties so that the Home application displays an outlet with OutletInUse.
{ &amp;#34;OutletInUse&amp;#34;: 0 } Example Implementation with a Sonoff Module Flashed by Tasmota This is a Node-RED flow to integrate a Sonoff-Tasmota flashed WiFi Outlet with HomeKit.</description></item></channel></rss>