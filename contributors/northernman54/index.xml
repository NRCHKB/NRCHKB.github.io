<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>NorthernMan54 on</title><link>https://nrchkb.github.io/contributors/northernman54/</link><description>Recent content in NorthernMan54 on</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Tue, 03 Aug 2021 00:00:00 +0200</lastBuildDate><atom:link href="https://nrchkb.github.io/contributors/northernman54/index.xml" rel="self" type="application/rss+xml"/><item><title>Washing Machine Monitor</title><link>https://nrchkb.github.io/wiki/examples/washing-machine-monitor/</link><pubDate>Tue, 03 Aug 2021 00:00:00 +0200</pubDate><guid>https://nrchkb.github.io/wiki/examples/washing-machine-monitor/</guid><description>This is a Washing Machine in use flow I created to monitor the usage of our washing machine, and provide notification to the Home.app of the wash status. To create this I leveraged an ESP8266 based current sensor WemosEM to monitor usage of the Washing Machine. And used the flow to determine if the Washing machine was in use, then trigger a Contact sensor.
The flow watches the watts used, averaging the previous 24 readings, and if they cross 30 watts, trigger the On state, and if the average drops below 15 watts trigger the off state.</description></item><item><title>Light Bulb</title><link>https://nrchkb.github.io/wiki/service/lightbulb/</link><pubDate>Sat, 17 Apr 2021 18:50:12 +0000</pubDate><guid>https://nrchkb.github.io/wiki/service/lightbulb/</guid><description>Examples These examples are meant to be copied into your Node-RED system and adapted to your setup.
On/Off Light This is the simplest example of a light bulb item. The input nodes are &amp;ldquo;On&amp;rdquo; and &amp;ldquo;Off&amp;rdquo;. The debug node will return values when the switch is turned on or off via the Home app on an Apple device.
Copyable Node-RED flow:
[{&amp;#34;id&amp;#34;:&amp;#34;ed2d8340.e1d5d8&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-service&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;bridge&amp;#34;:&amp;#34;d334490b.40dac&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Example Bulb OnOff&amp;#34;,&amp;#34;serviceName&amp;#34;:&amp;#34;Lightbulb&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;manufacturer&amp;#34;:&amp;#34;Default Manufacturer&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;Default Model&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;,&amp;#34;characteristicProperties&amp;#34;:&amp;#34;{}&amp;#34;,&amp;#34;x&amp;#34;:380,&amp;#34;y&amp;#34;:160,&amp;#34;wires&amp;#34;:[[&amp;#34;5844674e.178708&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;5844674e.178708&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;debug&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;HomeKit Out&amp;#34;,&amp;#34;active&amp;#34;:true,&amp;#34;tosidebar&amp;#34;:true,&amp;#34;console&amp;#34;:false,&amp;#34;tostatus&amp;#34;:false,&amp;#34;complete&amp;#34;:&amp;#34;payload&amp;#34;,&amp;#34;x&amp;#34;:590,&amp;#34;y&amp;#34;:160,&amp;#34;wires&amp;#34;:[]},{&amp;#34;id&amp;#34;:&amp;#34;8db975bc.c2e9d&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;On&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:true}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:120,&amp;#34;wires&amp;#34;:[[&amp;#34;ed2d8340.e1d5d8&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;629771.da7c409&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;inject&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;7b43483c.39305&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;Off&amp;#34;,&amp;#34;topic&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;payload&amp;#34;:&amp;#34;{\&amp;#34;On\&amp;#34;:false}&amp;#34;,&amp;#34;payloadType&amp;#34;:&amp;#34;json&amp;#34;,&amp;#34;repeat&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;crontab&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;once&amp;#34;:false,&amp;#34;onceDelay&amp;#34;:0.1,&amp;#34;x&amp;#34;:130,&amp;#34;y&amp;#34;:180,&amp;#34;wires&amp;#34;:[[&amp;#34;ed2d8340.e1d5d8&amp;#34;]]},{&amp;#34;id&amp;#34;:&amp;#34;d334490b.40dac&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;homekit-bridge&amp;#34;,&amp;#34;z&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;bridgeName&amp;#34;:&amp;#34;Example Bridge&amp;#34;,&amp;#34;pinCode&amp;#34;:&amp;#34;111-11-111&amp;#34;,&amp;#34;port&amp;#34;:&amp;#34;&amp;#34;,&amp;#34;allowInsecureRequest&amp;#34;:false,&amp;#34;manufacturer&amp;#34;:&amp;#34;Default Manufacturer&amp;#34;,&amp;#34;model&amp;#34;:&amp;#34;Default Model&amp;#34;,&amp;#34;serialNo&amp;#34;:&amp;#34;Default Serial Number&amp;#34;}] Dimmable Light This is an example of a dimmable light bulb item.</description></item><item><title>Outlet</title><link>https://nrchkb.github.io/wiki/service/outlet/</link><pubDate>Sat, 17 Apr 2021 18:50:12 +0000</pubDate><guid>https://nrchkb.github.io/wiki/service/outlet/</guid><description>Using an outlet as an Internet Down detector and reset your modem automatically when internet access is lost. For this use case, I have an outlet module ( in my case a WION Outlet ) that has my router plugged in to it and flashed with TASMOTA.
In TASMOTA I have this config
PowerOnState 1SetOption55 1WifiConfig 4rule1 on wifi#disconnected do backlog power 0;delay 150;power 1; delay 1800 endonrule2 on system#boot do ruletimer1 600 endon on Rules#Timer=1 do backlog power 1; ruletimer1 600 endonrule3 on Mqtt#Disconnected do MqttHost 0 endonrule1 1rule2 1rule3 1rule1 : upon disconnect, switch router off, wait 15 seconds (think it&amp;rsquo;s enough for &amp;lsquo;cold boot&amp;rsquo;), power router on, and wait 180 seconds for router to boot (if no waiting - sonoff will reboot router in loop, because router cannot start WIFI immediately upon powering on).</description></item></channel></rss>