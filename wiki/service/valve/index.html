<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<link rel=preload as=font href=https://nrchkb.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin>
<link rel=preload as=font href=https://nrchkb.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin>
<link rel=stylesheet href=https://nrchkb.github.io/main.61317bb7ad4eba9fafc45716abb314f76e19df38772f683952d1ea93ac80fbf6cd508da7829779966b8e2f53b332d385a0eba4db73221da1aca773a4b728d388.css integrity="sha512-YTF7t61Oup+vxFcWq7MU924Z3zh3L2g5UtHqk6yA+/bNUI2ngpd5lmuOL1OzMtOFoOuk23MiHaGsp3OktyjTiA==" crossorigin=anonymous>
<noscript><style>img.lazyload{display:none}</style></noscript>
<meta name=robots content="index, follow">
<meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<title>Valve - NRCHKB</title>
<meta name=description content="Valve">
<link rel=canonical href=https://nrchkb.github.io/wiki/service/valve/>
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://nrchkb.github.io/images/social-preview.png">
<meta name=twitter:title content="Valve">
<meta name=twitter:description content="Valve">
<meta property="og:title" content="Valve">
<meta property="og:description" content="Valve">
<meta property="og:type" content="article">
<meta property="og:url" content="https://nrchkb.github.io/wiki/service/valve/">
<meta property="og:image" content="https://nrchkb.github.io/images/social-preview.png">
<meta property="article:published_time" content="2021-04-05T11:54:45+00:00">
<meta property="article:modified_time" content="2022-04-17T22:06:26+02:00">
<meta property="og:site_name" content="NRCHKB">
<meta property="og:locale" content="en_US">
<meta name=yandex-verification content="5f5fdb90049c85bb">
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/nrchkb.github.io\/"},{"@type":"ListItem","position":2,"name":"Wiki","item":"https:\/\/nrchkb.github.io\/wiki\/"},{"@type":"ListItem","position":3,"name":"Service","item":"https:\/\/nrchkb.github.io\/wiki\/service\/"},{"@type":"ListItem","position":4,"name":"Valve","item":"https:\/\/nrchkb.github.io\/wiki\/service\/valve\/"}]}</script>
<meta name=theme-color content="#8f0000">
<link rel=apple-touch-icon sizes=180x180 href=https://nrchkb.github.io/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://nrchkb.github.io/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://nrchkb.github.io/favicon-16x16.png>
<link rel=manifest href=https://nrchkb.github.io/site.webmanifest>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XYRM4ZVKJS"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-XYRM4ZVKJS',{anonymize_ip:!1})}</script>
</head>
<body class="wiki single">
<header class="navbar fixed-top navbar-expand-md navbar-light">
<div class=container>
<input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=https://nrchkb.github.io/>NRCHKB</a>
<div id=docsearch class="order-2 order-md-4"></div>
<button id=mode class="btn btn-link order-3 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span>
</button>
<ul class="navbar-nav social-nav order-4 order-md-5">
<li class=nav-item>
<a class=nav-link href=https://github.com/NRCHKB/node-red-contrib-homekit-bridged target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a>
</li>
<li class=nav-item>
<a class=nav-link href=https://discord.gg/uvYac5u target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 245 240"><style>.st0{fill:#7289da}</style><path class="st0" d="M104.4 103.9c-5.7.0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7.0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.5.0c-5.7.0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7.0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"/><path class="st0" d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2.0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6.0.0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3.0.0-8.5 14.5-30.6 15.2z"/></svg><span class="ms-2 visually-hidden">Discord</span></a>
</li>
</ul>
<div class="collapse navbar-collapse order-5 order-md-1">
<ul class="navbar-nav main-nav me-auto order-6 order-md-2"><li class="nav-item active">
<div class=btn-group>
<a class=nav-link href=https://nrchkb.github.io/wiki/introduction/quick-start/>Wiki</a>
<button class="btn menu-wiki dropdown-toggle dropdown-toggle-split" data-bs-toggle=dropdown aria-expanded=false><span class=visually-hidden>Toggle Dropdown</span></button>
<ul class=dropdown-menu>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/introduction/quick-start/>Introduction</a></li>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/nodes/service-node/>Nodes</a></li>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/examples/demo-setup/>Examples</a></li>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/service/access-control/>Service</a></li>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/characteristic/access-control-level/>Characteristic</a></li>
<li><a class=dropdown-item href=https://nrchkb.github.io/wiki/discover-more/contribution/>Discover More</a></li>
</ul>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=https://nrchkb.github.io/blog/>Blog</a>
</li>
</ul>
</div>
</div>
</header>
<div class="wrap container" role=document>
<div class=content>
<div class="row flex-xl-nowrap">
<div class="col-lg-5 col-xl-4 docs-sidebar">
<nav class=docs-links aria-label="Main navigation">
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-introduction role=button aria-expanded=false aria-controls=collapse-introduction>
<h3 class=caret>Introduction</h3>
</a>
<div class=collapse id=collapse-introduction>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/introduction/quick-start/>Quick Start</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/introduction/how-to-update/>How to Update</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/introduction/troubleshooting/>Troubleshooting</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/introduction/faq/>FAQ</a></li>
</ul>
</div>
</div>
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-nodes role=button aria-expanded=false aria-controls=collapse-nodes>
<h3 class=caret>Nodes</h3>
</a>
<div class=collapse id=collapse-nodes>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/service-node/>Service Node</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/host-node/>Host Node</a></li>
<li><a class="docs-link divider" href=https://nrchkb.github.io/wiki/nodes/status-node/>Status Node</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/linked-service/>Linked Service</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/characteristics/>Characteristic Properties</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/topic/>Topic</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/output-messages/>Output Messages</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/nodes/wait-for-setup/>Wait For Setup</a></li>
</ul>
</div>
</div>
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-examples role=button aria-expanded=false aria-controls=collapse-examples>
<h3 class=caret>Examples</h3>
</a>
<div class=collapse id=collapse-examples>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/examples/demo-setup/>Demo Setup</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/examples/esp/>ESP</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/examples/washing-machine-monitor/>Washing Machine Monitor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/examples/omron-plc/>OMRON PLC</a></li>
</ul>
</div>
</div>
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-service role=button aria-expanded=false aria-controls=collapse-service>
<h3 class=caret>Service</h3>
</a>
<div class="collapse show" id=collapse-service>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/access-code/>Access Code</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/access-control/>Access Control</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/accessory-information/>Accessory Information</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/accessory-metrics/>Accessory Metrics</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/accessory-runtime-information/>Accessory Runtime Information</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/air-purifier/>Air Purifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/air-quality-sensor/>Air Quality Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/asset-update/>Asset Update</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/assistant/>Assistant</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/audio-stream-management/>Audio Stream Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/battery/>Battery</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/bridge-configuration/>Bridge Configuration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/bridging-state/>Bridging State</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/camera-control/>Camera Control</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/camera-operating-mode/>Camera Operating Mode</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/camera-recording-management/>Camera Recording Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/camera-rtpstream-management/>Camera RTPStream Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/carbon-dioxide-sensor/>Carbon Dioxide Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/carbon-monoxide-sensor/>Carbon Monoxide Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/cloud-relay/>Cloud Relay</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/contact-sensor/>Contact Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/data-stream-transport-management/>Data Stream Transport Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/diagnostics/>Diagnostics</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/door/>Door</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/doorbell/>Doorbell</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/fan/>Fan</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/fanv2/>Fanv2</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/faucet/>Faucet</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/filter-maintenance/>Filter Maintenance</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/garage-door-opener/>Garage Door Opener</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/heater-cooler/>Heater Cooler</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/humidifier-dehumidifier/>Humidifier Dehumidifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/humidity-sensor/>Humidity Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/input-source/>Input Source</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/irrigation-system/>Irrigation System</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/leak-sensor/>Leak Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/lightbulb/>Light Bulb</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/light-sensor/>Light Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/lock-management/>Lock Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/lock-mechanism/>Lock Mechanism</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/microphone/>Microphone</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/motion-sensor/>Motion Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/nfcaccess/>NFCAccess</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/occupancy-sensor/>Occupancy Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/outlet/>Outlet</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/pairing/>Pairing</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/power-management/>Power Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/protocol-information/>Protocol Information</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/security-system/>Security System</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/service-label/>Service Label</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/siri/>Siri</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/siri-endpoint/>Siri Endpoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/slats/>Slats</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/smart-speaker/>Smart Speaker</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/smoke-sensor/>Smoke Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/speaker/>Speaker</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/stateful-programmable-switch/>Stateful Programmable Switch</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/stateless-programmable-switch/>Stateless Programmable Switch</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/switch/>Switch</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/target-control/>Target Control</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/target-control-management/>Target Control Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/television/>Television</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/television-speaker/>Television Speaker</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/temperature-sensor/>Temperature Sensor</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/thermostat/>Thermostat</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/thread-transport/>Thread Transport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/time-information/>Time Information</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/transfer-transport-management/>Transfer Transport Management</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/tunnel/>Tunnel</a></li>
<li><a class="docs-link active" href=https://nrchkb.github.io/wiki/service/valve/>Valve</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/wi-fi-router/>Wi Fi Router</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/wi-fi-satellite/>Wi Fi Satellite</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/wi-fi-transport/>Wi Fi Transport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/window/>Window</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/service/window-covering/>Window Covering</a></li>
</ul>
</div>
</div>
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-characteristic role=button aria-expanded=false aria-controls=collapse-characteristic>
<h3 class=caret>Characteristic</h3>
</a>
<div class=collapse id=collapse-characteristic>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/access-code-control-point/>AccessCodeControlPoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/access-code-supported-configuration/>AccessCodeSupportedConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/access-control-level/>AccessControlLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/accessory-flags/>AccessoryFlags</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/accessory-identifier/>AccessoryIdentifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/active/>Active</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/active-identifier/>ActiveIdentifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/activity-interval/>ActivityInterval</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/administrator-only-access/>AdministratorOnlyAccess</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/air-particulate-density/>AirParticulateDensity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/air-particulate-size/>AirParticulateSize</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/airplay-enable/>AirPlayEnable</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/air-quality/>AirQuality</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/app-matching-identifier/>AppMatchingIdentifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/asset-update-readiness/>AssetUpdateReadiness</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/audio-feedback/>AudioFeedback</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/battery-level/>BatteryLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/brightness/>Brightness</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/button-event/>ButtonEvent</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/camera-operating-mode-indicator/>CameraOperatingModeIndicator</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-dioxide-detected/>CarbonDioxideDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-dioxide-level/>CarbonDioxideLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-dioxide-peak-level/>CarbonDioxidePeakLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-monoxide-detected/>CarbonMonoxideDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-monoxide-level/>CarbonMonoxideLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/carbon-monoxide-peak-level/>CarbonMonoxidePeakLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/category/>Category</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/cca-energy-detect-threshold/>CCAEnergyDetectThreshold</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/cca-signal-detect-threshold/>CCASignalDetectThreshold</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/characteristic-value-active-transition-count/>CharacteristicValueActiveTransitionCount</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/characteristic-value-transition-control/>CharacteristicValueTransitionControl</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/charging-state/>ChargingState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/closed-captions/>ClosedCaptions</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/color-temperature/>ColorTemperature</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/configuration-state/>ConfigurationState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/configure-bridged-accessory/>ConfigureBridgedAccessory</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/configure-bridged-accessory-status/>ConfigureBridgedAccessoryStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/configured-name/>ConfiguredName</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/contact-sensor-state/>ContactSensorState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/cooling-threshold-temperature/>CoolingThresholdTemperature</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-air-purifier-state/>CurrentAirPurifierState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-ambient-light-level/>CurrentAmbientLightLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-door-state/>CurrentDoorState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-fan-state/>CurrentFanState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-heater-cooler-state/>CurrentHeaterCoolerState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-heating-cooling-state/>CurrentHeatingCoolingState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-horizontal-tilt-angle/>CurrentHorizontalTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-humidifier-dehumidifier-state/>CurrentHumidifierDehumidifierState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-media-state/>CurrentMediaState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-position/>CurrentPosition</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-relative-humidity/>CurrentRelativeHumidity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-slat-state/>CurrentSlatState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-temperature/>CurrentTemperature</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-tilt-angle/>CurrentTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-time/>CurrentTime</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-transport/>CurrentTransport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-vertical-tilt-angle/>CurrentVerticalTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/current-visibility-state/>CurrentVisibilityState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/data-stream-hap-transport/>DataStreamHAPTransport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/data-stream-hap-transport-interrupt/>DataStreamHAPTransportInterrupt</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/day-of-the-week/>DayoftheWeek</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/diagonal-field-of-view/>DiagonalFieldOfView</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/digital-zoom/>DigitalZoom</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/discover-bridged-accessories/>DiscoverBridgedAccessories</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/discovered-bridged-accessories/>DiscoveredBridgedAccessories</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/display-order/>DisplayOrder</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/event-retransmission-maximum/>EventRetransmissionMaximum</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/event-snapshots-active/>EventSnapshotsActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/event-transmission-counters/>EventTransmissionCounters</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/filter-change-indication/>FilterChangeIndication</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/filter-life-level/>FilterLifeLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/firmware-revision/>FirmwareRevision</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/firmware-update-readiness/>FirmwareUpdateReadiness</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/firmware-update-status/>FirmwareUpdateStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/hardware-finish/>HardwareFinish</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/hardware-revision/>HardwareRevision</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/heart-beat/>HeartBeat</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/heating-threshold-temperature/>HeatingThresholdTemperature</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/hold-position/>HoldPosition</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/homekit-camera-active/>HomeKitCameraActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/hue/>Hue</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/identifier/>Identifier</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/identify/>Identify</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/image-mirroring/>ImageMirroring</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/image-rotation/>ImageRotation</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/input-device-type/>InputDeviceType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/input-source-type/>InputSourceType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/in-use/>InUse</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/is-configured/>IsConfigured</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/leak-detected/>LeakDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/link-quality/>LinkQuality</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/list-pairings/>ListPairings</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-control-point/>LockControlPoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-current-state/>LockCurrentState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-last-known-action/>LockLastKnownAction</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-management-auto-security-timeout/>LockManagementAutoSecurityTimeout</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-physical-controls/>LockPhysicalControls</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/lock-target-state/>LockTargetState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/logs/>Logs</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/mac-retransmission-maximum/>MACRetransmissionMaximum</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/mac-transmission-counters/>MACTransmissionCounters</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/managed-network-enable/>ManagedNetworkEnable</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/manually-disabled/>ManuallyDisabled</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/manufacturer/>Manufacturer</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/maximum-transmit-power/>MaximumTransmitPower</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/model/>Model</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/motion-detected/>MotionDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/multifunction-button/>MultifunctionButton</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/mute/>Mute</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/name/>Name</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/network-access-violation-control/>NetworkAccessViolationControl</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/network-client-profile-control/>NetworkClientProfileControl</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/network-client-status-control/>NetworkClientStatusControl</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/nfc-access-control-point/>NFCAccessControlPoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/nfc-access-supported-configuration/>NFCAccessSupportedConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/night-vision/>NightVision</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/nitrogen-dioxide-density/>NitrogenDioxideDensity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/obstruction-detected/>ObstructionDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/occupancy-detected/>OccupancyDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/on/>On</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/operating-state-response/>OperatingStateResponse</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/optical-zoom/>OpticalZoom</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/outlet-in-use/>OutletInUse</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/ozone-density/>OzoneDensity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/pairing-features/>PairingFeatures</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/pair-setup/>PairSetup</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/pair-verify/>PairVerify</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/password-setting/>PasswordSetting</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/periodic-snapshots-active/>PeriodicSnapshotsActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/picture-mode/>PictureMode</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/ping/>Ping</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/pm10-density/>PM10Density</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/pm2.5-density/>PM2_5Density</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/position-state/>PositionState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/power-mode-selection/>PowerModeSelection</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/product-data/>ProductData</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/programmable-switch-event/>ProgrammableSwitchEvent</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/programmable-switch-output-state/>ProgrammableSwitchOutputState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/program-mode/>ProgramMode</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/reachable/>Reachable</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/received-signal-strength-indication/>ReceivedSignalStrengthIndication</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/receiver-sensitivity/>ReceiverSensitivity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/recording-audio-active/>RecordingAudioActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/relative-humidity-dehumidifier-threshold/>RelativeHumidityDehumidifierThreshold</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/relative-humidity-humidifier-threshold/>RelativeHumidityHumidifierThreshold</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/relay-control-point/>RelayControlPoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/relay-enabled/>RelayEnabled</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/relay-state/>RelayState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/remaining-duration/>RemainingDuration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/remote-key/>RemoteKey</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/reset-filter-indication/>ResetFilterIndication</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/rotation-direction/>RotationDirection</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/rotation-speed/>RotationSpeed</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/router-status/>RouterStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/saturation/>Saturation</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/security-system-alarm-type/>SecuritySystemAlarmType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/security-system-current-state/>SecuritySystemCurrentState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/security-system-target-state/>SecuritySystemTargetState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/selected-audio-stream-configuration/>SelectedAudioStreamConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/selected-camera-recording-configuration/>SelectedCameraRecordingConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/selected-diagnostics-modes/>SelectedDiagnosticsModes</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/selected-rtp-stream-configuration/>SelectedRTPStreamConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/serial-number/>SerialNumber</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/service-label-index/>ServiceLabelIndex</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/service-label-namespace/>ServiceLabelNamespace</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/set-duration/>SetDuration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/setup-data-stream-transport/>SetupDataStreamTransport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/setup-endpoints/>SetupEndpoints</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/setup-transfer-transport/>SetupTransferTransport</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/signal-to-noise-ratio/>SignalToNoiseRatio</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-enable/>SiriEnable</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-endpoint-session-status/>SiriEndpointSessionStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-engine-version/>SiriEngineVersion</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-input-type/>SiriInputType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-light-on-use/>SiriLightOnUse</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-listening/>SiriListening</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/siri-touch-to-use/>SiriTouchToUse</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/slat-type/>SlatType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/sleep-discovery-mode/>SleepDiscoveryMode</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/sleep-interval/>SleepInterval</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/smoke-detected/>SmokeDetected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/software-revision/>SoftwareRevision</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/staged-firmware-version/>StagedFirmwareVersion</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/status-active/>StatusActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/status-fault/>StatusFault</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/status-jammed/>StatusJammed</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/status-low-battery/>StatusLowBattery</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/status-tampered/>StatusTampered</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/streaming-status/>StreamingStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/sulphur-dioxide-density/>SulphurDioxideDensity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-asset-types/>SupportedAssetTypes</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-audio-recording-configuration/>SupportedAudioRecordingConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-audio-stream-configuration/>SupportedAudioStreamConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-camera-recording-configuration/>SupportedCameraRecordingConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-characteristic-value-transition-configuration/>SupportedCharacteristicValueTransitionConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-data-stream-transport-configuration/>SupportedDataStreamTransportConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-diagnostics-modes/>SupportedDiagnosticsModes</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-diagnostics-snapshot/>SupportedDiagnosticsSnapshot</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-firmware-update-configuration/>SupportedFirmwareUpdateConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-router-configuration/>SupportedRouterConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-rtp-configuration/>SupportedRTPConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-transfer-transport-configuration/>SupportedTransferTransportConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-video-recording-configuration/>SupportedVideoRecordingConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/supported-video-stream-configuration/>SupportedVideoStreamConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/swing-mode/>SwingMode</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-air-purifier-state/>TargetAirPurifierState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-air-quality/>TargetAirQuality</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-control-list/>TargetControlList</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-control-supported-configuration/>TargetControlSupportedConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-door-state/>TargetDoorState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-fan-state/>TargetFanState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-heater-cooler-state/>TargetHeaterCoolerState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-heating-cooling-state/>TargetHeatingCoolingState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-horizontal-tilt-angle/>TargetHorizontalTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-humidifier-dehumidifier-state/>TargetHumidifierDehumidifierState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-media-state/>TargetMediaState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-position/>TargetPosition</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-relative-humidity/>TargetRelativeHumidity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-slat-state/>TargetSlatState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-temperature/>TargetTemperature</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-tilt-angle/>TargetTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-vertical-tilt-angle/>TargetVerticalTiltAngle</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/target-visibility-state/>TargetVisibilityState</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/temperature-display-units/>TemperatureDisplayUnits</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/third-party-camera-active/>ThirdPartyCameraActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/thread-control-point/>ThreadControlPoint</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/thread-node-capabilities/>ThreadNodeCapabilities</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/thread-openthread-version/>ThreadOpenThreadVersion</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/thread-status/>ThreadStatus</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/time-update/>TimeUpdate</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/transmit-power/>TransmitPower</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/tunnel-connection-timeout/>TunnelConnectionTimeout</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/tunneled-accessory-advertising/>TunneledAccessoryAdvertising</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/tunneled-accessory-connected/>TunneledAccessoryConnected</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/tunneled-accessory-state-number/>TunneledAccessoryStateNumber</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/valve-type/>ValveType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/version/>Version</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/video-analysis-active/>VideoAnalysisActive</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/voc-density/>VOCDensity</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/volume/>Volume</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/volume-control-type/>VolumeControlType</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/volume-selector/>VolumeSelector</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wake-configuration/>WakeConfiguration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wan-configuration-list/>WANConfigurationList</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wan-status-list/>WANStatusList</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/water-level/>WaterLevel</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wi-fi-capabilities/>WiFiCapabilities</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wi-fi-configuration-control/>WiFiConfigurationControl</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/characteristic/wi-fi-satellite-status/>WiFiSatelliteStatus</a></li>
</ul>
</div>
</div>
<div class=dropdown>
<a class=unstyled data-bs-toggle=collapse href=#collapse-discover-more role=button aria-expanded=false aria-controls=collapse-discover-more>
<h3 class=caret>Discover More</h3>
</a>
<div class=collapse id=collapse-discover-more>
<ul class=list-unstyled>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/contribution/>Contribution</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/migration/>Migration</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/roadmap/>Roadmap</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/changelog/>Changelog</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/credits/>Credits</a></li>
<li><a class=docs-link href=https://nrchkb.github.io/wiki/discover-more/experimental/>Experimental</a></li>
</ul>
</div>
</div>
</nav>
</div>
<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
<div class=page-links>
<h3>On this page</h3>
<nav id=TableOfContents>
<ul><li><a href=#characteristics>Characteristics</a></li>
<li><a href=#basic-principle>Basic Principle</a>
<ul>
<li><a href=#characteristic-properties>Characteristic Properties</a></li>
<li><a href=#possible-combinations-of-valve-status>Possible Combinations of Valve Status</a></li>
</ul>
</li>
<li><a href=#examples>Examples</a>
<ul>
<li><a href=#single-valve>Single Valve</a></li>
<li><a href=#4-zone-sprinkler-connected-to-opensprinkler>4 Zone Sprinkler connected to OpenSprinkler</a></li>
<li><a href=#sprinkler-with-lc-tech-4ch-relay-including-working-timer>Sprinkler with LC Tech 4ch relay (including working timer)</a></li>
<li><a href=#sprinkler-using-a-simple-outlet-eg-philips-hue>Sprinkler using a simple outlet (e.g. Philips Hue)</a></li>
<li><a href=#implementation-with-an-omron-plc-with-set-and-remaining-duration>Implementation with an Omron PLC (with Set and Remaining Duration)</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</nav>
<main class="docs-content col-lg-11 col-xl-9">
<nav aria-label=breadcrumb>
<ol class=breadcrumb>
<li class=breadcrumb-item><a href=https://nrchkb.github.io/>Home</a></li>
<li class=breadcrumb-item><a href=https://nrchkb.github.io/wiki/>Wiki</a></li>
<li class=breadcrumb-item><a href=https://nrchkb.github.io/wiki/service/>Services</a></li>
<li class="breadcrumb-item active" aria-current=page>Valve</li>
</ol>
</nav>
<h1 id=title>Valve</h1>
<small class=updated>Updated April 17, 2022
by
<a class="stretched-link position-relative" href=https://nrchkb.github.io/contributors/luwol03/>luwol03</a>, <a class="stretched-link position-relative" href=https://nrchkb.github.io/contributors/shaquu/>Shaquu</a>, <a class="stretched-link position-relative" href=https://nrchkb.github.io/contributors/gogovega/>GogoVega</a> and <a class="stretched-link position-relative" href=https://nrchkb.github.io/contributors/crxporter/>crxporter</a>
</small>
<p class=lead></p>
<p><small>UUID: 000000D0-0000-1000-8000-0026BB765291</small></p>
<h2 id=characteristics>Characteristics<a href=#characteristics class=anchor aria-hidden=true>#</a></h2>
<table>
<tbody>
<tr>
<th>Name</th>
<th>Required</th>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/is-configured/>IsConfigured</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/name/>Name</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/remaining-duration/>RemainingDuration</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/service-label-index/>ServiceLabelIndex</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/set-duration/>SetDuration</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/status-fault/>StatusFault</a></td>
<td>✕</td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/active/>Active</a></td>
<td><b>✓</b></td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/in-use/>InUse</a></td>
<td><b>✓</b></td>
</tr>
<tr>
<td><a href=https://nrchkb.github.io/wiki/characteristic/valve-type/>ValveType</a></td>
<td><b>✓</b></td>
</tr>
</tbody>
</table>
<div class="alert alert-warning d-flex" role=alert>
<div class="flex-shrink-1 alert-icon">‼️ </div>
<div class=w-100> <strong>SetDuration</strong> is an input or an output, it is used to set the &ldquo;Default Run Time&rdquo; on each valve in the Home.app.</div>
</div>
<div class="alert alert-warning d-flex" role=alert>
<div class="flex-shrink-1 alert-icon">‼️ </div>
<div class=w-100> <strong>RemainingDuration</strong> is an input to the Service node, used to display the remaining runtime on the current program. It cannot be sent as an output from Home.app into Node-RED.</div>
</div>
<h2 id=basic-principle>Basic Principle<a href=#basic-principle class=anchor aria-hidden=true>#</a> </h2>
<p>This is the simplest example of a Generic Valve item. The input nodes are <code>Close</code>, <code>Opening</code>, <code>Closing</code> and <code>Open</code>.</p>
<p>
<img src=valve_basic_principle_example.png alt="Basic Principle">
</p>
<p>Copyable Node-RED flow:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;04c963093073daea&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Close&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:0,\&#34;InUse\&#34;:0}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>130</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>80</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;2e5664d6894d86cd&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a6cd9bf2c6c16195&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Opening&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:1,\&#34;InUse\&#34;:0}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>140</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>120</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;2e5664d6894d86cd&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;2e5664d6894d86cd&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;hostType&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;accessoryId&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoProcessor&#34;</span><span class=p>:</span><span class=s2>&#34;ffmpeg&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigStillImageSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxStreams&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxWidth&#34;</span><span class=p>:</span><span class=mi>1280</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxHeight&#34;</span><span class=p>:</span><span class=mi>720</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxFPS&#34;</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxBitrate&#34;</span><span class=p>:</span><span class=mi>300</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libx264&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudioCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libfdk_aac&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudio&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigPacketSize&#34;</span><span class=p>:</span><span class=mi>1316</span><span class=p>,</span><span class=nt>&#34;cameraConfigVerticalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigHorizontalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapVideo&#34;</span><span class=p>:</span><span class=s2>&#34;0:0&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapAudio&#34;</span><span class=p>:</span><span class=s2>&#34;0:1&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoFilter&#34;</span><span class=p>:</span><span class=s2>&#34;scale=1280:720&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAdditionalCommandLine&#34;</span><span class=p>:</span><span class=s2>&#34;-tune zerolatency&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigDebug&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigSnapshotOutput&#34;</span><span class=p>:</span><span class=s2>&#34;disabled&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigInterfaceName&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;ValveType\&#34;:{\&#34;minValue\&#34;:0,\&#34;maxValue\&#34;:0}}&#34;</span><span class=p>,</span><span class=nt>&#34;waitForSetupMsg&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>310</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>120</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[],[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;60403f5f0a717273&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Closing&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:0,\&#34;InUse\&#34;:1}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>130</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>160</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;2e5664d6894d86cd&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c6119ed30d0c44ae&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Open&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:1,\&#34;InUse\&#34;:1}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>130</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;2e5664d6894d86cd&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;Bridge Node-RED&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;605-37-162&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;advertiser&#34;</span><span class=p>:</span><span class=s2>&#34;bonjour-hap&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;allowMessagePassthrough&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>}]</span>
</code></pre></div><h3 id=characteristic-properties>Characteristic Properties<a href=#characteristic-properties class=anchor aria-hidden=true>#</a> </h3>
<p>Use the following JSON in your Characteristic Properties so that the Home.app displays a Generic Valve.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
   <span class=nt>&#34;ValveType&#34;</span><span class=p>:{</span>
      <span class=nt>&#34;minValue&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span>
      <span class=nt>&#34;maxValue&#34;</span><span class=p>:</span><span class=mi>0</span>
   <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p><div class="alert alert-warning d-flex" role=alert>
<div class="flex-shrink-1 alert-icon">👉 </div>
<div class=w-100> Find more about <a href=https://nrchkb.github.io/wiki/characteristic/valve-type/ title=ValveType>ValveType</a> Characteristic.</div>
</div>
<br>
You can also add <code>SetDuration</code> Characteristic allowing to choose the duration operating time.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
   <span class=nt>&#34;SetDuration&#34;</span><span class=p>:{</span>
      <span class=nt>&#34;minValue&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
      <span class=nt>&#34;maxValue&#34;</span><span class=p>:</span><span class=mi>1800</span>
   <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=possible-combinations-of-valve-status>Possible Combinations of Valve Status<a href=#possible-combinations-of-valve-status class=anchor aria-hidden=true>#</a> </h3>
<p>The combination of <code>Active</code> and <code>InUse</code> Characteristics will determine what the Home.app shows for the Valve item.
Here is a table showing all (known) combinations:</p>
<table>
<thead>
<tr>
<th>Active</th>
<th>InUse</th>
<th>Home.app shows</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{"Active":0}</code></td>
<td><code>{"InUse":0}</code></td>
<td>Off</td>
</tr>
<tr>
<td><code>{"Active":0}</code></td>
<td><code>{"InUse":1}</code></td>
<td>Stopping</td>
</tr>
<tr>
<td><code>{"Active":1}</code></td>
<td><code>{"InUse":0}</code></td>
<td>Starting</td>
</tr>
<tr>
<td><code>{"Active":1}</code></td>
<td><code>{"InUse":1}</code></td>
<td>Running</td>
</tr>
</tbody>
</table>
<h2 id=examples>Examples<a href=#examples class=anchor aria-hidden=true>#</a> </h2>
<p>These examples are meant to be copied into your Node-RED system and adapted to your setup.</p>
<h3 id=single-valve>Single Valve<a href=#single-valve class=anchor aria-hidden=true>#</a> </h3>
<p>Below is a simple Valve example like (motorized Valve, solenoid Valve&mldr;).</p>
<p>
<img src=single_valve_example.png alt="Single Valve">
</p>
<p>Copyable Node-RED flow:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c3f61a0c8dee4001&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d57f90c91936790e&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;hostType&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;accessoryId&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;3288f6947422b693&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Single Valve&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoProcessor&#34;</span><span class=p>:</span><span class=s2>&#34;ffmpeg&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigStillImageSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxStreams&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxWidth&#34;</span><span class=p>:</span><span class=mi>1280</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxHeight&#34;</span><span class=p>:</span><span class=mi>720</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxFPS&#34;</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxBitrate&#34;</span><span class=p>:</span><span class=mi>300</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libx264&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudioCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libfdk_aac&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudio&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigPacketSize&#34;</span><span class=p>:</span><span class=mi>1316</span><span class=p>,</span><span class=nt>&#34;cameraConfigVerticalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigHorizontalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapVideo&#34;</span><span class=p>:</span><span class=s2>&#34;0:0&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapAudio&#34;</span><span class=p>:</span><span class=s2>&#34;0:1&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoFilter&#34;</span><span class=p>:</span><span class=s2>&#34;scale=1280:720&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAdditionalCommandLine&#34;</span><span class=p>:</span><span class=s2>&#34;-tune zerolatency&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigDebug&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigSnapshotOutput&#34;</span><span class=p>:</span><span class=s2>&#34;disabled&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigInterfaceName&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:true,\&#34;InUse\&#34;:true,\&#34;ValveType\&#34;:{\&#34;minValue\&#34;:0,\&#34;maxValue\&#34;:0}}&#34;</span><span class=p>,</span><span class=nt>&#34;waitForSetupMsg&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>390</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>2060</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3a845aa821d13c65&#34;</span><span class=p>],[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c8ab7794867492a8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d57f90c91936790e&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Off&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:0,\&#34;InUse\&#34;:0}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>210</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>2040</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;c3f61a0c8dee4001&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;df02534d1dfe4718&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d57f90c91936790e&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Running&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;Active\&#34;:1,\&#34;InUse\&#34;:1}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>2080</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;c3f61a0c8dee4001&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;3a845aa821d13c65&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d57f90c91936790e&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;State InUse&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;node.send({payload: {InUse: msg.payload.Active}});&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;initialize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;finalize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;libs&#34;</span><span class=p>:[],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>570</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>2060</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;c3f61a0c8dee4001&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;Bridge Node-RED&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;605-37-162&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;advertiser&#34;</span><span class=p>:</span><span class=s2>&#34;ciao&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;allowMessagePassthrough&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>}]</span>
</code></pre></div><h3 id=4-zone-sprinkler-connected-to-opensprinkler>4 Zone Sprinkler connected to OpenSprinkler<a href=#4-zone-sprinkler-connected-to-opensprinkler class=anchor aria-hidden=true>#</a> </h3>
<p>This is a fully functional sprinkler system with 4 zones which is connected to <a href=https://opensprinkler.com>OpenSprinkler</a> running on the same Raspberry Pi as Node-RED. The example is set up so that each of 4 zones can be turned on independently. If any zone is running, the &ldquo;whole yard&rdquo; zone will also show that it is running. When turning on a zone, a default is set for 10 minutes (600 seconds). This can be changed with the Default Time <code>inject</code> node.</p>
<p>Functions:</p>
<ul>
<li>&ldquo;Hey Siri, turn on Front Yard for 15 minutes&rdquo; will water the front yard for 15 minutes</li>
<li>Turning on &ldquo;Whole Yard&rdquo; will run OpenSprinkler program number 1</li>
<li>&ldquo;Whole Yard&rdquo; remaining duration is a sum of each queued zone</li>
<li>Does not interfere with normal operation of OpenSprinkler, only shows status and allows control from HomeKit</li>
</ul>
<p>
<img src=opensprinkler_example.png alt="OpenSprinkler Example">
</p>
<div class="alert alert-warning d-flex" role=alert>
<div class="flex-shrink-1 alert-icon">💡 </div>
<div class=w-100>For this example, the Topic must be set in HomeKit to filter Nodes based on incoming Topic. </div>
</div>
<h4 id=characteristic-properties-1>Characteristic Properties<a href=#characteristic-properties-1 class=anchor aria-hidden=true>#</a> </h4>
<p>These properties define the sprinkler to show as a sprinkler item in HomeKit (rather than a Generic Valve) and define that the zone show with a <code>SetDuration</code> option (so the duration may be set from HomeKit).</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
   <span class=nt>&#34;ValveType&#34;</span><span class=p>:{</span>
      <span class=nt>&#34;minValue&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span>
      <span class=nt>&#34;maxValue&#34;</span><span class=p>:</span><span class=mi>1</span>
   <span class=p>},</span>
   <span class=nt>&#34;SetDuration&#34;</span><span class=p>:{</span>
      <span class=nt>&#34;minValue&#34;</span><span class=p>:</span><span class=mi>300</span><span class=p>,</span>
      <span class=nt>&#34;maxValue&#34;</span><span class=p>:</span><span class=mi>1800</span>
   <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Copyable Node-RED flow:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;972fe2e4.b830e8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;http request&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;GET all&#34;</span><span class=p>,</span><span class=nt>&#34;method&#34;</span><span class=p>:</span><span class=s2>&#34;GET&#34;</span><span class=p>,</span><span class=nt>&#34;ret&#34;</span><span class=p>:</span><span class=s2>&#34;obj&#34;</span><span class=p>,</span><span class=nt>&#34;paytoqs&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;url&#34;</span><span class=p>:</span><span class=s2>&#34;http://localhost:8080/ja&#34;</span><span class=p>,</span><span class=nt>&#34;tls&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;proxy&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;authType&#34;</span><span class=p>:</span><span class=s2>&#34;basic&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>340</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;d94230d6.8aef9&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;d94230d6.8aef9&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Sprinkler -&gt; HK&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var out = {};\nfor (i = 0; i &lt; 4; i++) {\n    out[i] = {\n        \&#34;payload\&#34;: {\n            \&#34;Active\&#34;:Math.min(1,msg.payload.settings.ps[i][0]),\n            \&#34;InUse\&#34;:msg.payload.status.sn[i],\n            \&#34;RemainingDuration\&#34;:msg.payload.settings.ps[i][1]\n        },\n        \&#34;topic\&#34;: String(i)\n    };\n}\nout[4] = {\n    \&#34;payload\&#34;: {\n        \&#34;Active\&#34;:Math.max(\n            out[0].payload.Active,\n            out[1].payload.Active,\n            out[2].payload.Active,\n            out[3].payload.Active\n            ),\n        \&#34;InUse\&#34;:Math.max(\n            out[0].payload.InUse,\n            out[1].payload.InUse,\n            out[2].payload.InUse,\n            out[3].payload.InUse\n            ),\n        \&#34;RemainingDuration\&#34;:(\n            out[0].payload.RemainingDuration +\n            out[1].payload.RemainingDuration +\n            out[2].payload.RemainingDuration +\n            out[3].payload.RemainingDuration\n            )\n    },\n    \&#34;topic\&#34;: String(4)\n};\nvar prevout = context.get(\&#34;prevout\&#34;) || {};\nreturn [[out[0], out[1], out[2], out[3], out[4]]];\n&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>520</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;aac7c238.08a87&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c61a0975.d8116&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Cron&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;date&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>190</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;972fe2e4.b830e8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;aac7c238.08a87&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;gap&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;start&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;inout&#34;</span><span class=p>:</span><span class=s2>&#34;out&#34;</span><span class=p>,</span><span class=nt>&#34;property&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>720</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;9f1112f8.bcec38&#34;</span><span class=p>,</span><span class=s2>&#34;b4c04a5a.94dc6&#34;</span><span class=p>,</span><span class=s2>&#34;4a61c969.7498e&#34;</span><span class=p>,</span><span class=s2>&#34;41a98348.87c93c&#34;</span><span class=p>,</span><span class=s2>&#34;af1afae5.f437f8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;470fbc10.3b41b4&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Duration&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var out = {};\nfor (i = 0; i &lt; 4; i++) {\n    out[i] = {\n        \&#34;payload\&#34;: {\n            \&#34;SetDuration\&#34;: msg.payload\n        },\n        \&#34;topic\&#34;: String(i)\n    }\n}\nreturn [[out[0], out[1], out[2], out[3]]];\n&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>540</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>400</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;aac7c238.08a87&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;9f1112f8.bcec38&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Butterfly Garden&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Default Manufacturer&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    },\n    \&#34;SetDuration\&#34;:\n    {\n        \&#34;minValue\&#34;:300,\n        \&#34;maxValue\&#34;:1800\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>940</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>340</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;b4c04a5a.94dc6&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Driveway&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Default Manufacturer&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    },\n    \&#34;SetDuration\&#34;:\n    {\n        \&#34;minValue\&#34;:300,\n        \&#34;maxValue\&#34;:1800\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>920</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>400</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4a61c969.7498e&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Front Yard&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Rainbird 500&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Zone 3&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    },\n    \&#34;SetDuration\&#34;:\n    {\n        \&#34;minValue\&#34;:300,\n        \&#34;maxValue\&#34;:1800\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>930</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;41a98348.87c93c&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Back Yard&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;3&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;RainBird 500&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Zone 4&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    },\n    \&#34;SetDuration\&#34;:\n    {\n        \&#34;minValue\&#34;:300,\n        \&#34;maxValue\&#34;:1800\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>930</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>520</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;af1afae5.f437f8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Whole Yard&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;4&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Default Manufacturer&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>930</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>580</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;7437d718.0a2d98&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;link in&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Run program&#34;</span><span class=p>,</span><span class=nt>&#34;links&#34;</span><span class=p>:[</span><span class=s2>&#34;5bf24742.9efdf&#34;</span><span class=p>],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>530</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>520</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;aac7c238.08a87&#34;</span><span class=p>]],</span><span class=nt>&#34;l&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;e5af1a32.c833c&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;10 minute default run time&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;600&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;num&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;00 22 * * *&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=s2>&#34;10&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>400</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;470fbc10.3b41b4&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;5d81641e.9b310c&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;5 minute runtime&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;300&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;num&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=s2>&#34;10&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>320</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>340</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;470fbc10.3b41b4&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;3f49c0d.c9f03c&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;HK -&gt; OS&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var Zone = parseInt(msg.topic, 10); // Zone = zone number - 1\n\nvar duration = flow.get(\&#34;duration\&#34;) || {\n    0: 300,\n    1: 300,\n    2: 300,\n    3: 300\n};\n\nif (msg.payload.SetDuration) {\n    duration[Zone] = msg.payload.SetDuration;\n}\n\nflow.set(\&#34;duration\&#34;, duration);\n\nif (msg.hap !== undefined &amp;&amp; msg.hap.context !== undefined &amp;&amp; msg.payload.Active !== undefined) {\n    var ip = \&#34;http://localhost:8080/\&#34;;\n    var cmd;\n    var msg2 = null;\n    if (Zone !== 4) {\n        cmd = \&#34;cm?sid=\&#34; + Zone + \&#34;&amp;en=\&#34; + msg.payload.Active + \&#34;&amp;t=\&#34; + duration[Zone];\n    } else {\n        if (msg.payload.Active === 1) {\n            cmd = \&#34;mp?pid=1&amp;uwt=1\&#34;;\n        } else {\n            cmd = \&#34;cv?rsn=1\&#34;;\n        }\n        msg2 = {\n            \&#34;payload\&#34;: {\n                \&#34;Active\&#34;: msg.payload.Active\n            },\n            \&#34;topic\&#34;: String(Zone)\n        };\n    }\n    return [{\&#34;url\&#34;: ip + cmd}, msg2];\n}\n&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>1160</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>460</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;73635ba2.3827c4&#34;</span><span class=p>],[</span><span class=s2>&#34;5bf24742.9efdf&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;73635ba2.3827c4&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;http request&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;HTTP command&#34;</span><span class=p>,</span><span class=nt>&#34;method&#34;</span><span class=p>:</span><span class=s2>&#34;GET&#34;</span><span class=p>,</span><span class=nt>&#34;ret&#34;</span><span class=p>:</span><span class=s2>&#34;obj&#34;</span><span class=p>,</span><span class=nt>&#34;paytoqs&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;url&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;tls&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;proxy&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;authType&#34;</span><span class=p>:</span><span class=s2>&#34;basic&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>1340</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>440</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;5bf24742.9efdf&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;link out&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;d58d7d15.df3be8&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Run program&#34;</span><span class=p>,</span><span class=nt>&#34;links&#34;</span><span class=p>:[</span><span class=s2>&#34;7437d718.0a2d98&#34;</span><span class=p>],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>1330</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>480</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[],</span><span class=nt>&#34;l&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;6a8d3ef1.88061&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;Garage&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;111-11-111&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Garrett&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Pi HAT&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;3&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>}]</span>
</code></pre></div><h3 id=sprinkler-with-lc-tech-4ch-relay-including-working-timer>Sprinkler with LC Tech 4ch relay (including working timer)<a href=#sprinkler-with-lc-tech-4ch-relay-including-working-timer class=anchor aria-hidden=true>#</a> </h3>
<p>In this sample only one relay module is used. You should paste flow for each relay (1-4) of your module. Instruction to flash LC Tech ESP8266 modules with <a href=https://github.com/arendst/Sonoff-Tasmota/wiki/LC-Technology-WiFi-Relay>Tasmota</a>.</p>
<p>
<img src=sprinkler_with_LC_Tech_4ch_relay.png alt="Sprinker Example">
</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;3becee57.bd9272&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;bdd4551c.5849d&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;4fcab8b0.6fe368&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Sprinkler1&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;ptath&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Ротор Irritrol 550&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;00001&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n    \&#34;ValveType\&#34;:\n    {\n        \&#34;minValue\&#34;:1,\n        \&#34;maxValue\&#34;:1\n    },\n    \&#34;IsConfigured\&#34;:1,\n    \&#34;SetDuration\&#34;:\n    {\n        \&#34;minValue\&#34;:300,\n        \&#34;maxValue\&#34;:3600,\n        \&#34;validValues\&#34;: [300,600,1200,2400,3600]\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>244</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>288</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;f4c45dca.981af8&#34;</span><span class=p>,</span><span class=s2>&#34;8aacc164.a83628&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;8aacc164.a83628&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Timer Handler&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;// if timer changes in Home.app, set new duration\n// WARNING!!! this is NOT persistent, settings will gone after nodered restart\n// you should store it somewhere to production use, for example in file or DB\n// or set default timer value in HomeKit node (SetDuration minValue &gt; 0)\n\nvar SetDuration, Valve1 = global.get(\&#34;Valve1\&#34;);\n\nif(msg.hap.context !== undefined){\n    if (msg.payload.SetDuration) {\n        SetDuration = msg.payload.SetDuration; // seconds\n        Valve1.SetDuration = SetDuration; // seconds\n        global.set(\&#34;Valve1\&#34;, Valve1);\n\n        node.warn(\&#34;New SetDuration is set: \&#34; + global.get(\&#34;Valve1\&#34;).SetDuration)\n    }\n}\n\n// no output&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>448</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>256</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;f4c45dca.981af8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;On/Off Handler&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var RemainingDuration, newMsg, newpayload = {};\nvar Valve1 = global.get(\&#34;Valve1\&#34;);\n\nif (msg.payload.Active === 1){\n\n    if (Valve1.SetDuration) { // if duration is set while valve is turning on\n        RemainingDuration = Valve1.SetDuration; // payload to HomeKit\n        Valve1.StopTimer = Date.now() + RemainingDuration*1000; // milliseconds\n        global.set(\&#34;Valve1\&#34;, Valve1);\n\n        node.warn(\&#34;Turning ON Valve1 with timer \&#34; + RemainingDuration + \&#34; seconds\&#34;);\n        // first output is MQTT node (Power1 ON), second — HomeKit node (RemainingDuration)\n        return [{\&#34;payload\&#34;: 1}, {\&#34;payload\&#34;: {\&#34;RemainingDuration\&#34;: RemainingDuration}}];\n    }\n\n    node.warn(\&#34;Turning ON Valve1 with NO timer\&#34;);\n    return [{\&#34;payload\&#34;: 1},null];\n    \n} else if (msg.payload.Active === 0) {\n\n    node.warn(\&#34;Turning OFF Valve1\&#34;);\n    return [{\&#34;payload\&#34;: 0},null];\n}\n&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>448</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>296</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;309a41fa.97ce0e&#34;</span><span class=p>],[</span><span class=s2>&#34;1418cf19.aab189&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;309a41fa.97ce0e&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;mqtt out&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Valve ON/OFF&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;cmnd/watering/POWER1&#34;</span><span class=p>,</span><span class=nt>&#34;qos&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;retain&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;broker&#34;</span><span class=p>:</span><span class=s2>&#34;119575ac.bc37e2&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>688</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>296</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;736ec258.c7f4b4&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;mqtt in&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Valve STAT&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;stat/watering/POWER1&#34;</span><span class=p>,</span><span class=nt>&#34;qos&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;datatype&#34;</span><span class=p>:</span><span class=s2>&#34;auto&#34;</span><span class=p>,</span><span class=nt>&#34;broker&#34;</span><span class=p>:</span><span class=s2>&#34;119575ac.bc37e2&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>84</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>192</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;5547a9f2.837248&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;5547a9f2.837248&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;State to HomeKit&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;// pulling state from MQTT to HomeKit\n\nvar newMsg, newpayload = {};\nvar Valve1 = global.get(\&#34;Valve1\&#34;);\n\nif (msg.payload == \&#34;ON\&#34;){\n    newpayload.InUse = true;\n    //newpayload.Active = true;\n    Valve1.InUse = true;\n    global.set(\&#34;Valve1\&#34;, Valve1)\n} else if (msg.payload == \&#34;OFF\&#34;) {\n    newpayload.InUse = false;\n    newpayload.Active = false;\n    Valve1.InUse = false;\n    global.set(\&#34;Valve1\&#34;, Valve1)\n}\n\nnewMsg = { \&#34;payload\&#34;: newpayload }\nreturn newMsg;&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>458</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>192</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3becee57.bd9272&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;2f61a5e4.75db3a&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;link in&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;links&#34;</span><span class=p>:[</span><span class=s2>&#34;1418cf19.aab189&#34;</span><span class=p>,</span><span class=s2>&#34;bb840899.f99f8&#34;</span><span class=p>],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>119</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>312</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;3becee57.bd9272&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;1418cf19.aab189&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;link out&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Timer data&#34;</span><span class=p>,</span><span class=nt>&#34;links&#34;</span><span class=p>:[</span><span class=s2>&#34;2f61a5e4.75db3a&#34;</span><span class=p>],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>623</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>352</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;106c6f7c.9b3ae1&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Timer check&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;date&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>256</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>352</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;a317f2c5.adb958&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a317f2c5.adb958&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Timer OFF Handler&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var Valve1 = global.get(\&#34;Valve1\&#34;);\n\nif ((global.get(\&#34;Valve1\&#34;).StopTimer &lt;= Date.now()) &amp;&amp;\n    (global.get(\&#34;Valve1\&#34;).InUse === true)) \n    {\n        node.warn(\&#34;Turning OFF Valve1 by timer\&#34;);\n        // first output is MQTT, second — HomeKit\n        return [{\&#34;payload\&#34;: 0}, {\&#34;payload\&#34;: {\&#34;Active\&#34;: 0}}];\n} else {\n    return [null, null];\n}\n&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>458</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>336</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;309a41fa.97ce0e&#34;</span><span class=p>],[</span><span class=s2>&#34;1418cf19.aab189&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;bca42b7f.b1e5d&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;mqtt in&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Valve TELE&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;tele/watering/STATE&#34;</span><span class=p>,</span><span class=nt>&#34;qos&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;datatype&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;broker&#34;</span><span class=p>:</span><span class=s2>&#34;119575ac.bc37e2&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>84</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>96</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;84958af.1eaa9f8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;84958af.1eaa9f8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;change&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;rules&#34;</span><span class=p>:[{</span><span class=nt>&#34;t&#34;</span><span class=p>:</span><span class=s2>&#34;set&#34;</span><span class=p>,</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>,</span><span class=nt>&#34;pt&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;to&#34;</span><span class=p>:</span><span class=s2>&#34;POWER1&#34;</span><span class=p>,</span><span class=nt>&#34;tot&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>}],</span><span class=nt>&#34;action&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;property&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;from&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;to&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;reg&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>248</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>144</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;a70a02f2.385c6&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c70209be.7ddf1&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Global&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;date&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>74</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>48</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;cbbaf292.c55eb&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;cbbaf292.c55eb&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Set global Valve1 (empty)&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;// global variable Valve1 to store state and settings\n\nvar Valve1 = {};\nglobal.set(\&#34;Valve1\&#34;, Valve1);&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>278</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>48</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a70a02f2.385c6&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;gap&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;start&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;inout&#34;</span><span class=p>:</span><span class=s2>&#34;out&#34;</span><span class=p>,</span><span class=nt>&#34;property&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>354</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>96</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;5547a9f2.837248&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;43304657.98a99&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;2d469ba1.82003c&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;rbe&#34;</span><span class=p>,</span><span class=nt>&#34;gap&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;start&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;inout&#34;</span><span class=p>:</span><span class=s2>&#34;out&#34;</span><span class=p>,</span><span class=nt>&#34;property&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>266</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>192</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;bdd4551c.5849d&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;DRAGON-RED&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;111-11-111&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;ptath&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Raspberry Pi 3B+&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;0000&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;119575ac.bc37e2&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;mqtt-broker&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;LOCAL&#34;</span><span class=p>,</span><span class=nt>&#34;broker&#34;</span><span class=p>:</span><span class=s2>&#34;192.168.1.10&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;1883&#34;</span><span class=p>,</span><span class=nt>&#34;clientid&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;usetls&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;compatmode&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;keepalive&#34;</span><span class=p>:</span><span class=s2>&#34;60&#34;</span><span class=p>,</span><span class=nt>&#34;cleansession&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;birthTopic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;birthQos&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;birthRetain&#34;</span><span class=p>:</span><span class=s2>&#34;false&#34;</span><span class=p>,</span><span class=nt>&#34;birthPayload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;closeTopic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;closeQos&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;closeRetain&#34;</span><span class=p>:</span><span class=s2>&#34;false&#34;</span><span class=p>,</span><span class=nt>&#34;closePayload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;willTopic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;willQos&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;willRetain&#34;</span><span class=p>:</span><span class=s2>&#34;false&#34;</span><span class=p>,</span><span class=nt>&#34;willPayload&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>}]</span>
</code></pre></div><h3 id=sprinkler-using-a-simple-outlet-eg-philips-hue>Sprinkler using a simple outlet (e.g. Philips Hue)<a href=#sprinkler-using-a-simple-outlet-eg-philips-hue class=anchor aria-hidden=true>#</a> </h3>
<ul>
<li><code>Duration</code> is configurable and <code>RemainingDuration</code> time will be displayed in the Home.app.</li>
<li>Implementation in a simple loop</li>
<li>My Osram Smart Plug attached to Philips Hue Bridge can be controlled by boolean Characteristic <code>On</code>, for other Characteristics change function Nodes as required</li>
<li>Configure default <code>Duration</code> (used each time after relaunching Node-red) in <code>Init</code> node</li>
<li>Configure min/max and step Characteristics in <code>Irrigation</code> node</li>
</ul>
<p>
<img src=sprinkler_using_a_simple_outlet.png alt="Simple Sprinker Example">
</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;tab&#34;</span><span class=p>,</span><span class=nt>&#34;label&#34;</span><span class=p>:</span><span class=s2>&#34;Irrigation&#34;</span><span class=p>,</span><span class=nt>&#34;disabled&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;info&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;f02d025d.ae73d8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;d18fb229.b6994&#34;</span><span class=p>,</span><span class=nt>&#34;accessoryCategory&#34;</span><span class=p>:</span><span class=s2>&#34;SPRINKLER&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Irrigation&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Default Manufacturer&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoProcessor&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigStillImageSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxStreams&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxWidth&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxHeight&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxFPS&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxBitrate&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoCodec&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudioCodec&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudio&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigPacketSize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVerticalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigHorizontalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapVideo&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapAudio&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoFilter&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAdditionalCommandLine&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigDebug&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\n\&#34;SetDuration\&#34;: {\n    \&#34;maxValue\&#34;:7200,\n    \&#34;minValue\&#34;:300,\n    \&#34;minStep\&#34; :300\n    }\n}&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;2a837370.d0b1d4&#34;</span><span class=p>],[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;2a837370.d0b1d4&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Active2On&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;if (\&#34;SetDuration\&#34; in msg.payload){\n  flow.set(\&#34;Duration\&#34;,msg.payload.SetDuration);\n}\n\nif (\&#34;Active\&#34; in msg.payload){\n  return {\&#34;payload\&#34;: {\&#34;on\&#34;:msg.payload.Active}}\n}\nelse\n  return null&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>450</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;e9d2ec48.fa96c8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;e9d2ec48.fa96c8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;hue-light&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Outlet&#34;</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;c590a68c.ba7cc&#34;</span><span class=p>,</span><span class=nt>&#34;lightid&#34;</span><span class=p>:</span><span class=s2>&#34;12&#34;</span><span class=p>,</span><span class=nt>&#34;colornamer&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>610</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;45dd146e.32be3c&#34;</span><span class=p>]],</span><span class=nt>&#34;icon&#34;</span><span class=p>:</span><span class=s2>&#34;node-red/cog.png&#34;</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;45dd146e.32be3c&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;trigger&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;op1&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;op2&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;op1type&#34;</span><span class=p>:</span><span class=s2>&#34;pay&#34;</span><span class=p>,</span><span class=nt>&#34;op2type&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>,</span><span class=nt>&#34;duration&#34;</span><span class=p>:</span><span class=s2>&#34;-10&#34;</span><span class=p>,</span><span class=nt>&#34;extend&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;units&#34;</span><span class=p>:</span><span class=s2>&#34;s&#34;</span><span class=p>,</span><span class=nt>&#34;reset&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;bytopic&#34;</span><span class=p>:</span><span class=s2>&#34;all&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>790</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;a828f8d7.85d198&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;363b177b.58b9&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Init&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;payload&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;SetDuration\&#34;: 1800, \&#34;ValveType\&#34;:1, \&#34;Active\&#34;:false}&#34;</span><span class=p>,</span><span class=nt>&#34;payloadType&#34;</span><span class=p>:</span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=mf>0.1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>130</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>120</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;f02d025d.ae73d8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a828f8d7.85d198&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;28e78105.d1c456&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Update Time&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;\nvar DURATION = flow.get(\&#34;Duration\&#34;);\nvar WateringEndTime   = context.get(\&#34;WateringEndTime\&#34;)||0;\nvar RemainingDuration = 0\n\nif (msg.payload.on) {\n//Just switched on ?    \n  if (WateringEndTime ===  0) {\n    WateringEndTime = new Date(Date.now() + DURATION * 1000) \n    RemainingDuration  = DURATION;\n  } else {\n// Still switched on ? Update RemainingDuration     \n    RemainingDuration = (WateringEndTime - Date.now()) / 1000\n// WateringEndTime reached ? Switch off\n    if (RemainingDuration &lt;= 0) {\n      WateringEndTime = 0;\n      msg.payload.on  = false;\n    }\n  }\n} else {\n// Just switched off or still off ?\n  RemainingDuration = 0;\n  WateringEndTime   = 0;\n}\n\ncontext.set(\&#34;WateringEndTime\&#34;, WateringEndTime);\n\nreturn {\n    \&#34;payload\&#34;: {\&#34;InUse\&#34;            : msg.payload.on ? 1 : 0,\n                \&#34;Active\&#34;           : msg.payload.on ? 1 : 0,\n                \&#34;RemainingDuration\&#34;: RemainingDuration }\n    \n};&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>110</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;f02d025d.ae73d8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;d18fb229.b6994&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;Node-Red&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;111-11-111&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;Default Manufacturer&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;Default Model&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;allowMessagePassthrough&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c590a68c.ba7cc&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;hue-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Andreas Hue&#34;</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;Andreas-hue.local&#34;</span><span class=p>,</span><span class=nt>&#34;key&#34;</span><span class=p>:</span><span class=s2>&#34;IkVE3KKWgDVmXB4FNu15AOSIpJMEPpp9gj2jDB-G&#34;</span><span class=p>,</span><span class=nt>&#34;interval&#34;</span><span class=p>:</span><span class=s2>&#34;1000&#34;</span><span class=p>}]</span>
</code></pre></div><h3 id=implementation-with-an-omron-plc-with-set-and-remaining-duration>Implementation with an Omron PLC (with Set and Remaining Duration)<a href=#implementation-with-an-omron-plc-with-set-and-remaining-duration class=anchor aria-hidden=true>#</a> </h3>
<p>This is an example of a sprinkler item controlled by PLC and interfaced by Home app.</p>
<p>
<img src=valve_omron_plc_example.png alt="Omron PLC Example">
</p>
<p>Screenshot PLC Program</p>
<p>
<img src=valve_omron_plc_program_example.png alt="Omron PLC Program Example">
</p>
<p>Copyable Node-RED flow:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;c229e83874d35ae9&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;inject&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;5s&#34;</span><span class=p>,</span><span class=nt>&#34;props&#34;</span><span class=p>:[{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;time&#34;</span><span class=p>,</span><span class=nt>&#34;v&#34;</span><span class=p>:</span><span class=s2>&#34;true&#34;</span><span class=p>,</span><span class=nt>&#34;vt&#34;</span><span class=p>:</span><span class=s2>&#34;bool&#34;</span><span class=p>},{</span><span class=nt>&#34;p&#34;</span><span class=p>:</span><span class=s2>&#34;topic&#34;</span><span class=p>,</span><span class=nt>&#34;vt&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>}],</span><span class=nt>&#34;repeat&#34;</span><span class=p>:</span><span class=s2>&#34;5&#34;</span><span class=p>,</span><span class=nt>&#34;crontab&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;once&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;onceDelay&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>150</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;6a82155e2e5d5504&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;6a82155e2e5d5504&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;FINS Read Multiple&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Read PLC&#34;</span><span class=p>,</span><span class=nt>&#34;connection&#34;</span><span class=p>:</span><span class=s2>&#34;11b8375b.b1ee31&#34;</span><span class=p>,</span><span class=nt>&#34;addressType&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>,</span><span class=nt>&#34;address&#34;</span><span class=p>:</span><span class=s2>&#34;CIO104,H2,T61&#34;</span><span class=p>,</span><span class=nt>&#34;msgPropertyType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;msgProperty&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;outputFormatType&#34;</span><span class=p>:</span><span class=s2>&#34;signed&#34;</span><span class=p>,</span><span class=nt>&#34;outputFormat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>310</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;ea84cf21eebd5537&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;ea84cf21eebd5537&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;buffer-parser&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Int16=&gt;16b&#34;</span><span class=p>,</span><span class=nt>&#34;data&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;dataType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;specification&#34;</span><span class=p>:</span><span class=s2>&#34;spec&#34;</span><span class=p>,</span><span class=nt>&#34;specificationType&#34;</span><span class=p>:</span><span class=s2>&#34;ui&#34;</span><span class=p>,</span><span class=nt>&#34;items&#34;</span><span class=p>:[{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;16bitbe&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;CIO104&#34;</span><span class=p>,</span><span class=nt>&#34;offset&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;length&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;offsetbit&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;scale&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;mask&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>},{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;16bitbe&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;H2&#34;</span><span class=p>,</span><span class=nt>&#34;offset&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;length&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;offsetbit&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;scale&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;mask&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>},{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;int16be&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;T61&#34;</span><span class=p>,</span><span class=nt>&#34;offset&#34;</span><span class=p>:</span><span class=mi>4</span><span class=p>,</span><span class=nt>&#34;length&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;offsetbit&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;scale&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;mask&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>}],</span><span class=nt>&#34;swap1&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap2&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap3&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap1Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;swap2Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;swap3Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;msgProperty&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;msgPropertyType&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>,</span><span class=nt>&#34;resultType&#34;</span><span class=p>:</span><span class=s2>&#34;keyvalue&#34;</span><span class=p>,</span><span class=nt>&#34;resultTypeType&#34;</span><span class=p>:</span><span class=s2>&#34;output&#34;</span><span class=p>,</span><span class=nt>&#34;multipleResult&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;fanOutMultipleResult&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;setTopic&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>490</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;f2ba52946f96789d&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4ab54398175195a8&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-service&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;isParent&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;hostType&#34;</span><span class=p>:</span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=nt>&#34;bridge&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;accessoryId&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;parentService&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Sprinkle with Duration&#34;</span><span class=p>,</span><span class=nt>&#34;serviceName&#34;</span><span class=p>:</span><span class=s2>&#34;Valve&#34;</span><span class=p>,</span><span class=nt>&#34;topic&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;filter&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.3.6&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.3.6&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.3.6&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.3.6&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoProcessor&#34;</span><span class=p>:</span><span class=s2>&#34;ffmpeg&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigStillImageSource&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxStreams&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxWidth&#34;</span><span class=p>:</span><span class=mi>1280</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxHeight&#34;</span><span class=p>:</span><span class=mi>720</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxFPS&#34;</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=nt>&#34;cameraConfigMaxBitrate&#34;</span><span class=p>:</span><span class=mi>300</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libx264&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudioCodec&#34;</span><span class=p>:</span><span class=s2>&#34;libfdk_aac&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAudio&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigPacketSize&#34;</span><span class=p>:</span><span class=mi>1316</span><span class=p>,</span><span class=nt>&#34;cameraConfigVerticalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigHorizontalFlip&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapVideo&#34;</span><span class=p>:</span><span class=s2>&#34;0:0&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigMapAudio&#34;</span><span class=p>:</span><span class=s2>&#34;0:1&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigVideoFilter&#34;</span><span class=p>:</span><span class=s2>&#34;scale=1280:720&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigAdditionalCommandLine&#34;</span><span class=p>:</span><span class=s2>&#34;-tune zerolatency&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigDebug&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;cameraConfigSnapshotOutput&#34;</span><span class=p>:</span><span class=s2>&#34;disabled&#34;</span><span class=p>,</span><span class=nt>&#34;cameraConfigInterfaceName&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;characteristicProperties&#34;</span><span class=p>:</span><span class=s2>&#34;{\&#34;ValveType\&#34;:{\&#34;minValue\&#34;:1,\&#34;maxValue\&#34;:1},\&#34;SetDuration\&#34;:{\&#34;minValue\&#34;:30,\&#34;maxValue\&#34;:600}}&#34;</span><span class=p>,</span><span class=nt>&#34;waitForSetupMsg&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>840</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;a8d64110c459709a&#34;</span><span class=p>],[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;f2ba52946f96789d&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;H2.00&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var State = msg.READ_PLC.H2[0].bits[0];     // On/Off HMI Pushbutton\nvar InUse = msg.READ_PLC.CIO104[0].bits[0];     // Contact NO when Valve is open\nvar RemainingDuration = msg.READ_PLC.T61/10;    // TIMX on PLC\n\n\nif(State &amp;&amp; RemainingDuration &gt;0){\n    Active = true;\n}\nelse{\n    Active = false;\n}\n\nmsg.payload = {\n    \&#34;Active\&#34;:Active,\n    \&#34;InUse\&#34;:InUse,\n    \&#34;RemainingDuration\&#34;:RemainingDuration\n    \n}\n\nreturn msg;&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;initialize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;finalize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;libs&#34;</span><span class=p>:[],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>650</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>280</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;4ab54398175195a8&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;ef11f5451df404a4&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;FINS Write&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Write PLC&#34;</span><span class=p>,</span><span class=nt>&#34;connection&#34;</span><span class=p>:</span><span class=s2>&#34;11b8375b.b1ee31&#34;</span><span class=p>,</span><span class=nt>&#34;addressType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;address&#34;</span><span class=p>:</span><span class=s2>&#34;ADDRESS&#34;</span><span class=p>,</span><span class=nt>&#34;dataType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;data&#34;</span><span class=p>:</span><span class=s2>&#34;WRITE&#34;</span><span class=p>,</span><span class=nt>&#34;msgPropertyType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;msgProperty&#34;</span><span class=p>:</span><span class=s2>&#34;payload&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>860</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>360</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a8d64110c459709a&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Passthrough ?&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;if (msg.hap.session) {\n    // Do stuff if it&#39;s from homekit\n    return msg;\n} else {\n    // Do different stuff if it&#39;s not from homekit\n    return;\n}&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;initialize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;finalize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;libs&#34;</span><span class=p>:[],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>160</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>360</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;4e57c40a38ca08bc&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;a01f09fa4b2128bf&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Duration&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var SetDuration = msg.payload.SetDuration;\n\n\nif(SetDuration !== undefined){\n    msg.WRITE = SetDuration*10;\n    msg.ADDRESS = \&#34;D112\&#34;;\n    return nsg;\n}\nelse{\n    return;\n}&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;initialize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;finalize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;libs&#34;</span><span class=p>:[],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>700</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>420</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;ef11f5451df404a4&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4e57c40a38ca08bc&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;FINS Read Multiple&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Read PLC&#34;</span><span class=p>,</span><span class=nt>&#34;connection&#34;</span><span class=p>:</span><span class=s2>&#34;11b8375b.b1ee31&#34;</span><span class=p>,</span><span class=nt>&#34;addressType&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>,</span><span class=nt>&#34;address&#34;</span><span class=p>:</span><span class=s2>&#34;H2&#34;</span><span class=p>,</span><span class=nt>&#34;msgPropertyType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;msgProperty&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;outputFormatType&#34;</span><span class=p>:</span><span class=s2>&#34;signed&#34;</span><span class=p>,</span><span class=nt>&#34;outputFormat&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>350</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>360</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;772dfe65c7021c15&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;772dfe65c7021c15&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;buffer-parser&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Int16=&gt;16b&#34;</span><span class=p>,</span><span class=nt>&#34;data&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;dataType&#34;</span><span class=p>:</span><span class=s2>&#34;msg&#34;</span><span class=p>,</span><span class=nt>&#34;specification&#34;</span><span class=p>:</span><span class=s2>&#34;spec&#34;</span><span class=p>,</span><span class=nt>&#34;specificationType&#34;</span><span class=p>:</span><span class=s2>&#34;ui&#34;</span><span class=p>,</span><span class=nt>&#34;items&#34;</span><span class=p>:[{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;16bitbe&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;H2&#34;</span><span class=p>,</span><span class=nt>&#34;offset&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;length&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;offsetbit&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;scale&#34;</span><span class=p>:</span><span class=s2>&#34;1&#34;</span><span class=p>,</span><span class=nt>&#34;mask&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>}],</span><span class=nt>&#34;swap1&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap2&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap3&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;swap1Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;swap2Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;swap3Type&#34;</span><span class=p>:</span><span class=s2>&#34;swap&#34;</span><span class=p>,</span><span class=nt>&#34;msgProperty&#34;</span><span class=p>:</span><span class=s2>&#34;READ_PLC&#34;</span><span class=p>,</span><span class=nt>&#34;msgPropertyType&#34;</span><span class=p>:</span><span class=s2>&#34;str&#34;</span><span class=p>,</span><span class=nt>&#34;resultType&#34;</span><span class=p>:</span><span class=s2>&#34;keyvalue&#34;</span><span class=p>,</span><span class=nt>&#34;resultTypeType&#34;</span><span class=p>:</span><span class=s2>&#34;output&#34;</span><span class=p>,</span><span class=nt>&#34;multipleResult&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;fanOutMultipleResult&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;setTopic&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>530</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>360</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;a01f09fa4b2128bf&#34;</span><span class=p>,</span><span class=s2>&#34;605e329b7612ee48&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;605e329b7612ee48&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;function&#34;</span><span class=p>,</span><span class=nt>&#34;z&#34;</span><span class=p>:</span><span class=s2>&#34;96be518d.693a18&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Active ?&#34;</span><span class=p>,</span><span class=nt>&#34;func&#34;</span><span class=p>:</span><span class=s2>&#34;var Write = (msg.payload.Active)? 0:1;\nvar READ = msg.READ_PLC.H2[0].bits;\n\nREAD[0] = Write;    // H2.00\n\nnbr = parseInt (READ[15]+\&#34;\&#34;+READ[14]+\&#34;\&#34;+READ[13]+\&#34;\&#34;+READ[12]+\&#34;\&#34;+READ[11]+\&#34;\&#34;+READ[10]+\&#34;\&#34;+READ[9]+\&#34;\&#34;+READ[8]+\&#34;\&#34;+READ[7]+\&#34;\&#34;+READ[6]+\&#34;\&#34;+READ[5]+\&#34;\&#34;+READ[4]+\&#34;\&#34;+READ[3]+\&#34;\&#34;+READ[2]+\&#34;\&#34;+READ[1]+\&#34;\&#34;+READ[0]);\n\nconst convert = {\n  bin2dec : s =&gt; parseInt(s, 2).toString(10)\n};\n\nmsg.ADDRESS = \&#34;H2\&#34;;\nmsg.WRITE = parseInt (convert.bin2dec(nbr));\n\nreturn msg;&#34;</span><span class=p>,</span><span class=nt>&#34;outputs&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;noerr&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;initialize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;finalize&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;libs&#34;</span><span class=p>:[],</span><span class=nt>&#34;x&#34;</span><span class=p>:</span><span class=mi>700</span><span class=p>,</span><span class=nt>&#34;y&#34;</span><span class=p>:</span><span class=mi>360</span><span class=p>,</span><span class=nt>&#34;wires&#34;</span><span class=p>:[[</span><span class=s2>&#34;ef11f5451df404a4&#34;</span><span class=p>]]},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;11b8375b.b1ee31&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;FINS Connection&#34;</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;PLC&#34;</span><span class=p>,</span><span class=nt>&#34;host&#34;</span><span class=p>:</span><span class=s2>&#34;192.168.1.2&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;9600&#34;</span><span class=p>,</span><span class=nt>&#34;MODE&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;MODEType&#34;</span><span class=p>:</span><span class=s2>&#34;CS&#34;</span><span class=p>,</span><span class=nt>&#34;protocol&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;protocolType&#34;</span><span class=p>:</span><span class=s2>&#34;udp&#34;</span><span class=p>,</span><span class=nt>&#34;ICF&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;DNA&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;DA1&#34;</span><span class=p>:</span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=nt>&#34;DA2&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;SNA&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;SA1&#34;</span><span class=p>:</span><span class=s2>&#34;20&#34;</span><span class=p>,</span><span class=nt>&#34;SA2&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;autoConnect&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>},{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=s2>&#34;4a2a4fc162440a41&#34;</span><span class=p>,</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;homekit-bridge&#34;</span><span class=p>,</span><span class=nt>&#34;bridgeName&#34;</span><span class=p>:</span><span class=s2>&#34;Bridge Node-RED&#34;</span><span class=p>,</span><span class=nt>&#34;pinCode&#34;</span><span class=p>:</span><span class=s2>&#34;605-37-162&#34;</span><span class=p>,</span><span class=nt>&#34;port&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;advertiser&#34;</span><span class=p>:</span><span class=s2>&#34;bonjour-hap&#34;</span><span class=p>,</span><span class=nt>&#34;allowInsecureRequest&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;manufacturer&#34;</span><span class=p>:</span><span class=s2>&#34;NRCHKB&#34;</span><span class=p>,</span><span class=nt>&#34;model&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;serialNo&#34;</span><span class=p>:</span><span class=s2>&#34;Default Serial Number&#34;</span><span class=p>,</span><span class=nt>&#34;firmwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;hardwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;softwareRev&#34;</span><span class=p>:</span><span class=s2>&#34;1.4.3&#34;</span><span class=p>,</span><span class=nt>&#34;customMdnsConfig&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span><span class=nt>&#34;mdnsMulticast&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsInterface&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsPort&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsTtl&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;mdnsLoopback&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;mdnsReuseAddr&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;allowMessagePassthrough&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>}]</span>
</code></pre></div><div class="alert alert-warning d-flex" role=alert>
<div class="flex-shrink-1 alert-icon">👉 </div>
<div class=w-100> Read more about <a href=https://nrchkb.github.io/wiki/examples/omron-plc/ title="OMRON PLC in Node-RED">OMRON PLC in Node-RED</a>.</div>
</div>
<p class=edit-page id=edit-page><a href=https://github.com/NRCHKB/NRCHKB.github.io/blob/master/content/wiki/service/valve/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p>
<div class="docs-navigation d-flex justify-content-between">
<a href=https://nrchkb.github.io/wiki/characteristic/tunneled-accessory-state-number/>
<div class="card my-1">
<div class="card-body py-2">
&larr; TunneledAccessoryStateNumber
</div>
</div>
</a>
<a class=ms-auto href=https://nrchkb.github.io/wiki/characteristic/valve-type/>
<div class="card my-1">
<div class="card-body py-2">
ValveType &rarr;
</div>
</div>
</a>
</div>
</main>
</div>
</div>
</div>
<footer class="footer text-muted">
<div class=container>
<div class=row>
<div class="col order-last order-lg-last text-end">
<ul class=list-inline>
<li class=list-inline-item><a href=https://discord.gg/uvYac5u><img src="https://img.shields.io/discord/586065987267330068?color=%238f0000&label=Discord&logo=discord" alt="NRCHKB Discord"></a></li>
</ul>
</div>
<div class="col order-first order-lg-first">
<ul class=list-inline>
<li class=list-inline-item><a href=https://nrchkb.github.io/privacy-policy/>Privacy</a></li>
</ul>
</div>
<div class="col-lg order-last order-lg-first text-center">
<ul class=list-inline>
<li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li>
</ul>
</div>
</div>
</div>
</footer>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@alpha>
<script src=https://nrchkb.github.io/js/bootstrap.min.592b9faf6c83a2bda564a377cf82f9a67546b198510a93fdb0728f9622ec22729d44be02fb2ea16c3fe5365ae1806259cd111932ca28e68b66462d6937635bab.js integrity="sha512-WSufr2yDor2lZKN3z4L5pnVGsZhRCpP9sHKPliLsInKdRL4C+y6hbD/lNlrhgGJZzREZMsoo5otmRi1pN2Nbqw==" crossorigin=anonymous defer></script>
<script src=https://nrchkb.github.io/js/highlight.min.533e1de8c53e115db8b89c51da51ec35dd647651070cba69056f64cfe8801f920028db81aeed3391346f17b90cf80e7c20c9ef80cac058de437fd57af2f097df.js integrity="sha512-Uz4d6MU+EV24uJxR2lHsNd1kdlEHDLppBW9kz+iAH5IAKNuBru0zkTRvF7kM+A58IMnvgMrAWN5Df9V68vCX3w==" crossorigin=anonymous defer></script>
<script src=https://nrchkb.github.io/main.min.fe7dc6b46d2ca054feeaf5e9971466c39008f8abcdcdf2d0625572a67438ec19d8551d9542053e8d2c1702e8bd41427e8b6dfa045981c3274652484f9326ae04.js integrity="sha512-/n3GtG0soFT+6vXplxRmw5AI+KvNzfLQYlVypnQ47BnYVR2VQgU+jSwXAui9QUJ+i236BFmBwydGUkhPkyauBA==" crossorigin=anonymous defer></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@alpha></script>
<script type=text/javascript>docsearch({container:'#docsearch',appId:'J8509KWQO1',indexName:'nrchkb',apiKey:'3b8902adb61265110336eccda34c4199'})</script>
<link rel=preconnect href=https://J8509KWQO1-dsn.algolia.net crossorigin>
<script src=https://nrchkb.github.io/index.js defer></script>
</body>
</html>